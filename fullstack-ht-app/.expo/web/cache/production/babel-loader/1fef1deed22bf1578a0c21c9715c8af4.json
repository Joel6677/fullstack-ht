{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import React,{useContext,useRef,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import Animated from\"react-native-web/dist/exports/Animated\";import Constants from'expo-constants';import{Link}from'react-router-native';import{useApolloClient}from'@apollo/react-hooks';import{useHistory}from'react-router-native';import useResizeAware from'react-resize-aware';import theme from\"../theme\";import Text from\"./Text\";import AuthStorageContext from\"../contexts/AuthStorageContext\";import useAuthorizedUser from\"../hooks/useAuthorizedUser\";import{StateContext}from\"../state\";import{IconButton}from'react-native-paper';import{Appbar}from'react-native-paper';var styles=StyleSheet.create({appbar:{backgroundColor:theme.colors.primary,zIndex:99},container:{backgroundColor:theme.colors.appBarBackground,width:'100%',position:'absolute',zIndex:99},scrollView:{flexDirection:'row'},tabTouchable:{flexGrow:0},tabContainer:{paddingHorizontal:15,paddingVertical:20,flexDirection:'row',alignItems:'center',justifyContent:'center'},tabText:{color:'white'}});var AppBarTab=function AppBarTab(_ref){var children=_ref.children,props=_objectWithoutProperties(_ref,[\"children\"]);return React.createElement(TouchableWithoutFeedback,_extends({style:styles.tabTouchable},props),React.createElement(View,{style:styles.tabContainer},React.createElement(Text,{fontWeight:\"bold\",style:styles.tabText},children)));};var AppBar=function AppBar(){var apolloClient=useApolloClient();var authStorage=useContext(AuthStorageContext);var history=useHistory();var _useResizeAware=useResizeAware(),_useResizeAware2=_slicedToArray(_useResizeAware,2),resizeListener=_useResizeAware2[0],sizes=_useResizeAware2[1];var newWidth=(sizes.width-200)/sizes.width*100+\"%\";var _useAuthorizedUser=useAuthorizedUser(),authorizedUser=_useAuthorizedUser.authorizedUser;var _useContext=useContext(StateContext),state=_useContext.state,dispatch=_useContext.dispatch;var resizeAnim=useRef(new Animated.Value(0)).current;var onSignOut=function onSignOut(){return _regeneratorRuntime.async(function onSignOut$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(authStorage.removeAccessToken());case 2:apolloClient.resetStore();history.push('/');case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);};var moveAppbar=function moveAppbar(){Animated.spring(resizeAnim,{toValue:state.open?600:0}).start();};useEffect(function(){moveAppbar();});return React.createElement(Appbar,{style:styles.appbar},React.createElement(Appbar.Action,{icon:\"menu\",onPress:function onPress(){return dispatch({type:\"SET_OPEN\",payload:!state.open});}}),React.createElement(Appbar.Action,{icon:\"mail\",onPress:function onPress(){return history.push(\"/sign-in\");}}),React.createElement(Appbar.Action,{icon:\"home\",onPress:function onPress(){return history.push(\"/\");}}),React.createElement(Appbar.Action,{icon:\"magnify\",onPress:function onPress(){return console.log('Pressed delete');}}),React.createElement(Appbar.Action,{icon:\"account\",onPress:function onPress(){return history.push(\"/userpage\");}}));};export default AppBar;","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/AppBar.jsx"],"names":["React","useContext","useRef","useEffect","Constants","Link","useApolloClient","useHistory","useResizeAware","theme","Text","AuthStorageContext","useAuthorizedUser","StateContext","IconButton","Appbar","styles","StyleSheet","create","appbar","backgroundColor","colors","primary","zIndex","container","appBarBackground","width","position","scrollView","flexDirection","tabTouchable","flexGrow","tabContainer","paddingHorizontal","paddingVertical","alignItems","justifyContent","tabText","color","AppBarTab","children","props","AppBar","apolloClient","authStorage","history","resizeListener","sizes","newWidth","authorizedUser","state","dispatch","resizeAnim","Animated","Value","current","onSignOut","removeAccessToken","resetStore","push","moveAppbar","spring","toValue","open","start","type","payload","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useRef, useEffect } from 'react';\n\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  Animated,\n} from 'react-native';\n\nimport Constants from 'expo-constants';\nimport { Link } from 'react-router-native';\nimport { useApolloClient } from '@apollo/react-hooks';\nimport { useHistory } from 'react-router-native';\nimport useResizeAware from 'react-resize-aware';\n\nimport theme from '../theme';\nimport Text from './Text';\nimport AuthStorageContext from '../contexts/AuthStorageContext';\nimport useAuthorizedUser from '../hooks/useAuthorizedUser';\n\nimport { StateContext } from '../state';\nimport { IconButton } from 'react-native-paper';\n\nimport { Appbar } from 'react-native-paper';\n\nconst styles = StyleSheet.create({\n  appbar: {\n    backgroundColor: theme.colors.primary,\n    zIndex: 99\n    \n  },\n  container: {\n    // paddingTop: Constants.statusBarHeight,\n    backgroundColor: theme.colors.appBarBackground,\n    width: '100%',\n    position: 'absolute',\n    zIndex: 99\n  },\n  scrollView: {\n    flexDirection: 'row',\n  },\n  tabTouchable: {\n    flexGrow: 0,\n  },\n  tabContainer: {\n    paddingHorizontal: 15,\n    paddingVertical: 20,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  tabText: {\n    color: 'white',\n  }\n});\n\nconst AppBarTab = ({ children, ...props }) => { \n  return (\n    <TouchableWithoutFeedback style={styles.tabTouchable} {...props}>\n      <View style={styles.tabContainer}>\n        <Text fontWeight=\"bold\" style={styles.tabText}>\n          {children}\n        </Text>\n      </View>\n    </TouchableWithoutFeedback>\n  );\n};\n\nconst AppBar = () => {\n  const apolloClient = useApolloClient();\n  const authStorage = useContext(AuthStorageContext);\n  const history = useHistory();\n  const [resizeListener, sizes] = useResizeAware();\n  const newWidth = `${((sizes.width - 200) / sizes.width) * 100}%`;\n\n  const { authorizedUser } = useAuthorizedUser();\n\n  const { state, dispatch } = useContext(StateContext);\n  const resizeAnim = useRef(new Animated.Value(0)).current; \n\n  const onSignOut = async () => {\n    await authStorage.removeAccessToken();\n    apolloClient.resetStore();\n    history.push('/');\n  };\n\n  \n\n  const moveAppbar = () => {\n\n    Animated.spring(\n      resizeAnim,\n      {\n        toValue: state.open ? 600 : 0\n      }\n    ).start();\n  \n  };\n\n  useEffect(() => {\n    moveAppbar();\n  });\n\n\n  return (\n  //   <>\n\n  //   <View>\n  //     {resizeListener}\n  //   </View>\n  //   <Animated.View style={[styles.appbar, {\n  //     transform: [{\n  //       translateX: resizeAnim\n  //     }]\n  //   }]}>\n      <Appbar style={styles.appbar}>\n      <Appbar.Action\n        icon=\"menu\"\n        onPress={() => dispatch({type: \"SET_OPEN\", payload: !state.open})}\n      />\n      <Appbar.Action icon=\"mail\" onPress={() => history.push(\"/sign-in\")} />\n      <Appbar.Action icon=\"home\" onPress={() => history.push(\"/\")} />\n      <Appbar.Action\n        icon=\"magnify\"\n        onPress={() => console.log('Pressed delete')}\n      />\n        <Appbar.Action\n        icon=\"account\"\n        onPress={() => history.push(\"/userpage\")}\n      />\n    </Appbar>\n  //   </Animated.View>\n\n\n  //  </>\n    \n      // <View style={styles.container}>\n      // <View>\n\n      //   <Animated.View style={[styles.container, {\n      //     transform: [{\n      //       translateX: resizeAnim\n      //     }]\n      //   }]}>\n      //     {resizeListener}\n      //  <ScrollView style={styles.scrollView} horizontal> \n      //  <IconButton icon=\"menu\" color={theme.colors.primary} size={40} onPress={() => dispatch({type: \"SET_OPEN\", payload: !state.open})} \n      //   ></IconButton>\n      //   {authorizedUser ? (\n      //     <>\n      //       <AppBarTab onPress={onSignOut}>Sign out</AppBarTab>\n      //     </>\n      //   ) : (\n      //     <>\n      //       <Link to=\"/sign-in\" component={AppBarTab}>\n      //         Sign in\n      //       </Link>\n      //       <Link to=\"/sign-up\" component={AppBarTab}>\n      //         Sign up\n      //       </Link>\n      //       <Link to=\"/\" component={AppBarTab}>\n      //         Home\n      //       </Link>\n      //     </>\n      //   )}\n      // </ScrollView>\n      // </Animated.View>\n  ); \n};\n\nexport default AppBar;"]},"metadata":{},"sourceType":"module"}