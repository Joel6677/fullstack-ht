{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as firebase from 'firebase';\nexport var SignUpWithEmail = function SignUpWithEmail(email, username, password) {\n  var currentUser, db;\n  return _regeneratorRuntime.async(function SignUpWithEmail$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n        case 3:\n          currentUser = firebase.auth().currentUser;\n          db = firebase.firestore();\n          console.log('currentUser: ', currentUser);\n          db.collection('users').doc(currentUser.uid).set({\n            username: username,\n            email: currentUser.email\n          });\n          db.collection('usernames').doc(username).set({\n            uid: currentUser.uid\n          });\n          _context.next = 13;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('sign up with email error', _context.t0);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 10]], Promise);\n};\nexport var SignInWithEmail = function SignInWithEmail(email, password) {\n  return _regeneratorRuntime.async(function SignInWithEmail$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var SignInWithGoogle = function SignInWithGoogle() {\n  var provider;\n  return _regeneratorRuntime.async(function SignInWithGoogle$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          try {\n            provider = new firebase.auth.GoogleAuthProvider();\n            firebase.auth().signInWithPopup(provider).then(function (result) {\n              var credential = result.credential;\n              var token = credential.accessToken;\n              var user = result.user;\n            }).catch(function (error) {\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              var email = error.email;\n              var credential = error.credential;\n            });\n          } catch (err) {\n            console.log('error SignInWithGoogle: ', err);\n          }\n\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var SignInAnonymously = function SignInAnonymously() {\n  return _regeneratorRuntime.async(function SignInAnonymously$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().signInAnonymously());\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var SignOut = function SignOut() {\n  return _regeneratorRuntime.async(function SignOut$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n        case 2:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var DeleteUser = function DeleteUser() {\n  var currentUser;\n  return _regeneratorRuntime.async(function DeleteUser$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          currentUser = firebase.auth().currentUser;\n          _context6.next = 3;\n          return _regeneratorRuntime.awrap(currentUser.delete());\n\n        case 3:\n          console.log('user deleted: ', currentUser);\n\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/firebase/firebaseFunctions.js"],"names":["firebase","SignUpWithEmail","email","username","password","auth","createUserWithEmailAndPassword","currentUser","db","firestore","console","log","collection","doc","uid","set","SignInWithEmail","signInWithEmailAndPassword","SignInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","then","result","credential","token","accessToken","user","catch","error","errorCode","code","errorMessage","message","err","SignInAnonymously","signInAnonymously","SignOut","signOut","DeleteUser","delete"],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\n\nexport const SignUpWithEmail = async (email, username, password) => {\n    try {\n        await firebase.auth().createUserWithEmailAndPassword(email, password);\n        const currentUser = firebase.auth().currentUser;\n        const db = firebase.firestore();\n\n        console.log('currentUser: ', currentUser);\n\n        db.collection('users')\n            .doc(currentUser.uid)\n            .set({\n                username: username,\n                email: currentUser.email\n            });\n        db.collection('usernames')\n            .doc(username)\n            .set({\n                uid: currentUser.uid\n            });\n\n    } catch (err) {\n        console.log('sign up with email error', err);\n    }\n};\n\n    export const SignInWithEmail = async (email, password) => {\n        await firebase.auth().signInWithEmailAndPassword(email, password);\n    };\n\n    export const SignInWithGoogle = async () => {\n        \n        try {\n            const provider = new firebase.auth.GoogleAuthProvider();\n            // await firebase.auth().signInWithRedirect(provider);\n            firebase.auth()\n                .signInWithPopup(provider)\n                .then((result) => {\n                    /** @type {firebase.auth.OAuthCredential} */\n                    var credential = result.credential;\n\n                    // This gives you a Google Access Token. You can use it to access the Google API.\n                    var token = credential.accessToken;\n                    // The signed-in user info.\n                    var user = result.user;\n                    // ...\n                }).catch((error) => {\n                    // Handle Errors here.\n                    var errorCode = error.code;\n                    var errorMessage = error.message;\n                    // The email of the user's account used.\n                    var email = error.email;\n                    // The firebase.auth.AuthCredential type that was used.\n                    var credential = error.credential;\n                    // ...\n                });\n        } catch (err) {\n            console.log('error SignInWithGoogle: ', err);\n        }\n        \n    };\n\n    export const SignInAnonymously = async () => {\n        await firebase.auth().signInAnonymously();\n\n    };\n    \n    export const SignOut = async () => {\n        await firebase.auth().signOut();\n    };\n\n    export const DeleteUser = async () => {\n        const currentUser = firebase.auth().currentUser;\n\n        await currentUser.delete();\n\n        console.log('user deleted: ', currentUser);\n    };"]},"metadata":{},"sourceType":"module"}