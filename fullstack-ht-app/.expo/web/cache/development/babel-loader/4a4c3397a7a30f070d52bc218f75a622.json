{"ast":null,"code":"import * as firebase from 'firebase';\nexport var sendChatMessage = function sendChatMessage(chatID, text) {\n  var test;\n  firebase.firestore().collection('userinfo').doc(firebase.auth().currentUser.uid).get().then(function (doc) {\n    test = doc.data();\n  });\n  console.log('userinfo: ', test);\n  firebase.firestore().collection('messages').doc(chatID).collection('chats').add({\n    text: text,\n    createdAt: new Date().getTime(),\n    user: {\n      _id: firebase.auth().currentUser.uid,\n      email: firebase.auth().currentUser.email,\n      name: userinfo.name\n    }\n  });\n};","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/firebase/chat.js"],"names":["firebase","sendChatMessage","chatID","text","test","firestore","collection","doc","auth","currentUser","uid","get","then","data","console","log","add","createdAt","Date","getTime","user","_id","email","name","userinfo"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,MAAD,EAASC,IAAT,EAAkB;AAE/C,MAAIC,IAAJ;AAEAJ,EAAAA,QAAQ,CAACK,SAAT,GACGC,UADH,CACc,UADd,EAEGC,GAFH,CAEOP,QAAQ,CAACQ,IAAT,GAAgBC,WAAhB,CAA4BC,GAFnC,EAGGC,GAHH,GAGSC,IAHT,CAGc,UAACL,GAAD,EAAS;AACnBH,IAAAA,IAAI,GAAGG,GAAG,CAACM,IAAJ,EAAP;AACD,GALH;AAOAC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BX,IAA1B;AAEAJ,EAAAA,QAAQ,CAACK,SAAT,GACGC,UADH,CACc,UADd,EAEGC,GAFH,CAEOL,MAFP,EAGGI,UAHH,CAGc,OAHd,EAIGU,GAJH,CAIO;AACHb,IAAAA,IAAI,EAAEA,IADH;AAEHc,IAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAFR;AAGHC,IAAAA,IAAI,EAAE;AACJC,MAAAA,GAAG,EAAErB,QAAQ,CAACQ,IAAT,GAAgBC,WAAhB,CAA4BC,GAD7B;AAEJY,MAAAA,KAAK,EAAEtB,QAAQ,CAACQ,IAAT,GAAgBC,WAAhB,CAA4Ba,KAF/B;AAGJC,MAAAA,IAAI,EAAEC,QAAQ,CAACD;AAHX;AAHH,GAJP;AAaD,CA1BM","sourcesContent":["import * as firebase from 'firebase';\n\nexport const sendChatMessage = (chatID, text) => {\n\n  let test; \n\n  firebase.firestore()\n    .collection('userinfo')\n    .doc(firebase.auth().currentUser.uid)\n    .get().then((doc) => {\n      test = doc.data();\n    });\n\n  console.log('userinfo: ', test);\n\n  firebase.firestore()\n    .collection('messages')\n    .doc(chatID)\n    .collection('chats')\n    .add({\n      text: text,\n      createdAt: new Date().getTime(),\n      user: {\n        _id: firebase.auth().currentUser.uid,\n        email: firebase.auth().currentUser.email,\n        name: userinfo.name\n      }\n    });\n};\n"]},"metadata":{},"sourceType":"module"}