{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/UserList.jsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useHistory } from 'react-router-native';\nimport { Searchbar, Divider } from 'react-native-paper';\nimport firebase from 'firebase/app';\nimport UserItem from \"./UserItem\";\nimport 'firebase/auth';\nimport 'firebase/firestore';\nvar styles = StyleSheet.create({\n  container: {\n    padding: 5,\n    height: '100%',\n    width: '100%',\n    position: 'absolute',\n    zIndex: 1,\n    paddingTop: 80,\n    paddingBottom: 60\n  },\n  separator: {\n    marginVertical: 5\n  },\n  headerContainer: {\n    padding: 10\n  },\n  searchContainer: {\n    marginBottom: 15\n  }\n});\n\nvar ItemSeparator = function ItemSeparator() {\n  return React.createElement(View, {\n    style: styles.separator,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }\n  });\n};\n\nvar UserListContainer = function UserListContainer(_ref) {\n  var users = _ref.users,\n      onUserPress = _ref.onUserPress;\n  return React.createElement(FlatList, {\n    data: users,\n    keyExtractor: function keyExtractor(_ref2) {\n      var id = _ref2.id;\n      return id;\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(UserItem, {\n        user: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      });\n    },\n    ItemSeparatorComponent: ItemSeparator,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  });\n};\n\nvar UserList = function UserList() {\n  var history = useHistory();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function _callee() {\n    var allUsers;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            firebase.firestore().collection('users').where('email', '!=', firebase.auth().currentUser.email).get().then(function (querySnapshot) {\n              var posts = querySnapshot.docs.map(function (doc) {\n                var data = doc.data();\n                var id = doc.id;\n                return _objectSpread({\n                  id: id\n                }, data);\n              });\n              setUsers(posts);\n            }).catch(function (error) {\n              console.log('Error getting documents: ', error);\n            });\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(firebase.firestore().collection('users').where('email', '!=', firebase.auth().currentUser.email).get());\n\n          case 3:\n            allUsers = _context.sent;\n            console.log('all users: ', allUsers);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, React.createElement(UserListContainer, {\n    users: users,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default UserList;","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/UserList.jsx"],"names":["React","useState","useEffect","useHistory","Searchbar","Divider","firebase","UserItem","styles","StyleSheet","create","container","padding","height","width","position","zIndex","paddingTop","paddingBottom","separator","marginVertical","headerContainer","searchContainer","marginBottom","ItemSeparator","UserListContainer","users","onUserPress","id","item","UserList","history","setUsers","firestore","collection","where","auth","currentUser","email","get","then","querySnapshot","posts","docs","map","doc","data","catch","error","console","log","allUsers"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  FlatList, View, StyleSheet, TouchableOpacity,\n} from 'react-native';\nimport { useHistory } from 'react-router-native';\nimport { Searchbar, Divider } from 'react-native-paper';\nimport firebase from 'firebase/app';\nimport UserItem from './UserItem';\n// import * as firebase from 'firebase';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 5,\n    height: '100%',\n    width: '100%',\n    position: 'absolute',\n    zIndex: 1,\n    paddingTop: 80,\n    paddingBottom: 60,\n  },\n  separator: {\n    marginVertical: 5,\n  },\n  headerContainer: {\n    padding: 10,\n  },\n  searchContainer: {\n    marginBottom: 15,\n  },\n});\n\nconst ItemSeparator = () => (\n  <View style={styles.separator}>\n\n    {/* <Divider/> */}\n\n  </View>\n);\n\nconst UserListContainer = ({ users, onUserPress }) => (\n  <FlatList\n    data={users}\n    keyExtractor={({ id }) => id}\n    renderItem={({ item }) => (\n      // <TouchableOpacity\n      // key={item.id}\n      // onPress={() => onUserPress(item.id)}\n      // >\n      <UserItem user={item} />\n      // </TouchableOpacity>\n    )}\n    ItemSeparatorComponent={ItemSeparator}\n  />\n);\n\nconst UserList = () => {\n  const history = useHistory();\n  const [users, setUsers] = useState('');\n\n  useEffect(async () => {\n    firebase.firestore()\n      .collection('users')\n      .where('email', '!=', firebase.auth().currentUser.email)\n      .get()\n      .then((querySnapshot) => {\n        const posts = querySnapshot.docs.map((doc) => {\n          const data = doc.data();\n          const { id } = doc;\n          return { id, ...data };\n        });\n        setUsers(posts);\n      })\n      .catch((error) => {\n        console.log('Error getting documents: ', error);\n      });\n\n    const allUsers = await firebase.firestore()\n    .collection('users').where('email', '!=', firebase.auth().currentUser.email).get()\n\n    console.log('all users: ', allUsers)\n\n\n\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <UserListContainer\n        users={users}\n      />\n    </View>\n  );\n};\n\nexport default UserList;\n"]},"metadata":{},"sourceType":"module"}