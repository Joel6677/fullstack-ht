{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/MyInfo.jsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Button } from 'react-native-paper';\nimport { useHistory } from 'react-router-native';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport Text from \"./Text\";\nimport theme from \"../theme\";\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%'\n  },\n  topContainer: {},\n  bottomContainer: {},\n  normalText: {\n    margin: 5\n  },\n  bioText: {\n    margin: 5\n  },\n  separator: {\n    height: 5\n  },\n  avatarContainer: {\n    height: 100,\n    width: 100,\n    backgroundColor: 'red'\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 100\n  },\n  loading: {\n    backgroundColor: 'green',\n    top: 90\n  },\n  button: {\n    margin: 5\n  }\n});\n\nvar MyInfo = function MyInfo() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      img = _useState2[0],\n      setImg = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userinfo = _useState6[0],\n      setUserinfo = _useState6[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    var fetchData = function fetchData() {\n      var uinfo, profpic;\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('userinfo').doc(firebase.auth().currentUser.uid).get());\n\n            case 2:\n              uinfo = _context.sent;\n              setUserinfo(uinfo.data());\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('images').doc(firebase.auth().currentUser.uid).collection('userImages').doc('profilePicture').get());\n\n            case 6:\n              profpic = _context.sent;\n              setImg(profpic.data().downloadURL);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    fetchData();\n  }, []);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    animating: !loaded,\n    color: theme.colors.primary,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })), React.createElement(Image, {\n    source: {\n      uri: img\n    },\n    style: styles.avatar,\n    onLoadEnd: function onLoadEnd() {\n      return setLoaded(true);\n    },\n    defaultSource: '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: styles.normalText,\n    fontSize: \"subheading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, \"Name:\", ' ', userinfo.name), React.createElement(Text, {\n    style: styles.normalText,\n    fontSize: \"subheading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"Birthdate:\", ' ', userinfo.birthdate), React.createElement(Text, {\n    style: styles.bioText,\n    fontSize: \"subheading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, \"Bio:\", ' ', userinfo.bio), React.createElement(Button, {\n    mode: \"outlined\",\n    style: styles.button,\n    onPress: function onPress() {\n      return history.push('/upload-userinfo');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"Edit info\"), React.createElement(Button, {\n    mode: \"outlined\",\n    style: styles.button,\n    onPress: function onPress() {\n      return history.push('/upload-media');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Change profile picture\"));\n};\n\nexport default MyInfo;","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/MyInfo.jsx"],"names":["React","useState","useEffect","Button","useHistory","firebase","Text","theme","styles","StyleSheet","create","container","flexDirection","alignItems","height","width","topContainer","bottomContainer","normalText","margin","bioText","separator","avatarContainer","backgroundColor","avatar","borderRadius","loading","top","button","MyInfo","img","setImg","loaded","setLoaded","userinfo","setUserinfo","history","fetchData","firestore","collection","doc","auth","currentUser","uid","get","uinfo","data","profpic","downloadURL","colors","primary","uri","name","birthdate","bio","push"],"mappings":"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","sourcesContent":["import React, {\n  useState, useEffect,\n} from 'react';\nimport {\n  StyleSheet, View, Image, ActivityIndicator,\n} from 'react-native';\nimport {\n  Button,\n} from 'react-native-paper';\nimport { useHistory } from 'react-router-native';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport Text from './Text';\nimport theme from '../theme';\n\nconst styles = StyleSheet.create({\n\n  container: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%',\n\n  },\n  topContainer: {\n\n  },\n  bottomContainer: {\n\n  },\n  normalText: {\n    margin: 5,\n  },\n  bioText: {\n    margin: 5,\n  },\n  separator: {\n    height: 5,\n  },\n  avatarContainer: {\n    height: 100,\n    width: 100,\n    backgroundColor: 'red',\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 100,\n  },\n  loading: {\n    backgroundColor: 'green',\n    top: 90,\n  },\n  button: {\n    margin: 5,\n  },\n\n});\n\nconst MyInfo = () => {\n  const [img, setImg] = useState();\n  const [loaded, setLoaded] = useState(false);\n  const [userinfo, setUserinfo] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n\n\n    const fetchData = async () => {\n      const uinfo =  await firebase.firestore().collection('userinfo')\n      .doc(firebase.auth().currentUser.uid)\n      .get()\n\n      setUserinfo(uinfo.data())\n\n      const profpic = await firebase.firestore()\n      .collection('images')\n      .doc(firebase.auth().currentUser.uid)\n      .collection('userImages')\n      .doc('profilePicture')\n      .get()\n\n      setImg(profpic.data().downloadURL)\n    }\n      fetchData()\n  }, []);\n\n  return (\n    <View style={styles.container}>\n\n      <View style={styles.loading}>\n        <ActivityIndicator size=\"large\" animating={!loaded} color={theme.colors.primary} />\n      </View>\n      <Image source={{ uri: img }} style={styles.avatar} onLoadEnd={() => setLoaded(true)} defaultSource={''} />\n\n      <Text\n        style={styles.normalText}\n        fontSize=\"subheading\"\n      >\n        Name:\n        {' '}\n        {userinfo.name}\n      </Text>\n\n      <Text\n        style={styles.normalText}\n        fontSize=\"subheading\"\n      >\n        Birthdate:\n        {' '}\n        {userinfo.birthdate}\n      </Text>\n\n      <Text\n        style={styles.bioText}\n        fontSize=\"subheading\"\n      >\n        Bio:\n        {' '}\n        {userinfo.bio}\n      </Text>\n\n      <Button mode=\"outlined\" style={styles.button} onPress={() => history.push('/upload-userinfo')}>Edit info</Button>\n      <Button mode=\"outlined\" style={styles.button} onPress={() => history.push('/upload-media')}>Change profile picture</Button>\n    </View>\n  );\n};\n\nexport default MyInfo;\n"]},"metadata":{},"sourceType":"module"}