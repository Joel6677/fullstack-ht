{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as firebase from 'firebase';\nexport var handleSend = function handleSend(chatID, messages) {\n  return _regeneratorRuntime.async(function handleSend$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          firebase.firestore().collection('messages').doc(chatID).collection('chats').add({\n            text: 'test',\n            createdAt: new Date().getTime(),\n            user: {\n              _id: firebase.auth().currentUser.uid,\n              email: firebase.auth().currentUser.email\n            }\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/firebase/chat.js"],"names":["firebase","handleSend","chatID","messages","firestore","collection","doc","add","text","createdAt","Date","getTime","user","_id","auth","currentUser","uid","email"],"mappings":";AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AA+CA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAOC,MAAP,EAAeC,QAAf;AAAA;AAAA;AAAA;AAAA;AAGxBH,UAAAA,QAAQ,CAACI,SAAT,GACGC,UADH,CACc,UADd,EAEGC,GAFH,CAEOJ,MAFP,EAGGG,UAHH,CAGc,OAHd,EAIGE,GAJH,CAIO;AACHC,YAAAA,IAAI,EAAE,MADH;AAEHC,YAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAFR;AAGHC,YAAAA,IAAI,EAAE;AACJC,cAAAA,GAAG,EAAEb,QAAQ,CAACc,IAAT,GAAgBC,WAAhB,CAA4BC,GAD7B;AAEJC,cAAAA,KAAK,EAAEjB,QAAQ,CAACc,IAAT,GAAgBC,WAAhB,CAA4BE;AAF/B;AAHH,WAJP;;AAHwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB","sourcesContent":["import * as firebase from 'firebase';\n\n// export const sendChatMessage = (chatID, chat) => {\n//   console.log('chatid: ', chatID);\n//   console.log('chat: ', chat);\n//   firebase.firestore()\n//     .collection('messages')\n//     .doc(chatID)\n//     .collection('chats')\n//     .add({\n//       chat: chat\n//     });\n// };\n\n// export const handleSend = async (messages) => {\n\n//   await firebase.firestore()\n//     .collection('THREADS')\n//     .doc(thread._id)\n//     .set(\n//       {\n//         latestMessage: {\n//           text,\n//           createdAt: new Date().getTime()\n//         }\n//       },\n//       { merge: true }\n//     );\n// };\n\n// export const handleSend = async (messages) => {\n//   const text = messages[0].text;\n\n//   firestore()\n//     .collection('THREADS')\n//     .doc(thread._id)\n//     .collection('MESSAGES')\n//     .add({\n//       text,\n//       createdAt: new Date().getTime(),\n//       user: {\n//         _id: currentUser.uid,\n//         email: currentUser.email\n//       }\n//     });\n// }\n\nexport const handleSend = async (chatID, messages) => {\n  // const text = messages[0].text;\n\n  firebase.firestore()\n    .collection('messages')\n    .doc(chatID)\n    .collection('chats')\n    .add({\n      text: 'test',\n      createdAt: new Date().getTime(),\n      user: {\n        _id: firebase.auth().currentUser.uid,\n        email: firebase.auth().currentUser.email\n      }\n    });\n};"]},"metadata":{},"sourceType":"module"}