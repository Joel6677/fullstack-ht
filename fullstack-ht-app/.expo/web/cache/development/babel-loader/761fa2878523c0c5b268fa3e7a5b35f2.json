{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/Userpage.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Button, Avatar, Divider } from 'react-native-paper';\nimport { useHistory } from 'react-router-native';\nimport { StateContext } from \"../state\";\nimport Text from \"./Text\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport theme from \"../theme\";\nvar styles = StyleSheet.create({\n  topContainer: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%',\n    position: 'absolute',\n    zIndex: 1\n  },\n  container: {\n    alignItems: 'center'\n  },\n  bottomContainer: {},\n  avatar: {\n    marginBottom: 50,\n    width: 150,\n    height: 150,\n    borderRadius: 100\n  },\n  loading: {\n    position: 'absolute',\n    top: 245,\n    zIndex: 2\n  },\n  button: {\n    marginHorizontal: 50\n  },\n  button2: {\n    marginTop: 20\n  }\n});\n\nvar Userpage = function Userpage() {\n  var history = useHistory();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      img = _useState2[0],\n      setImg = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userinfo = _useState6[0],\n      setUserinfo = _useState6[1];\n\n  useEffect(function () {\n    firebase.firestore().collection('userinfo').get().then(function (querySnapshot) {\n      var posts = querySnapshot.docs.map(function (doc) {\n        var data = doc.data();\n        var id = doc.id;\n        return _objectSpread({\n          id: id\n        }, data);\n      });\n      setUserinfo(posts);\n    }).catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    });\n    firebase.firestore().collection(\"images\").doc(firebase.auth().currentUser.uid).collection(\"userImages\").doc(\"profilePicture\").get().then(function (snapshot) {\n      setImg(snapshot.data().downloadURL);\n    });\n  }, []);\n\n  var linkTo = function linkTo(link) {\n    history.push(link);\n  };\n\n  return React.createElement(View, {\n    style: styles.topContainer\n  }, React.createElement(View, {\n    style: styles.loading\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    animating: !loaded,\n    color: theme.colors.primary\n  })), React.createElement(Image, {\n    source: {\n      uri: img\n    },\n    style: styles.avatar,\n    onLoadEnd: function onLoadEnd() {\n      return setLoaded(true);\n    },\n    defaultSource: ''\n  }), React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Button, {\n    icon: \"star\",\n    mode: \"outlined\",\n    compact: \"true\",\n    style: styles.button,\n    onPress: function onPress() {\n      return linkTo('my-reviews');\n    }\n  }, \"My reviews\"), React.createElement(Button, {\n    icon: \"information\",\n    mode: \"outlined\",\n    compact: \"true\",\n    style: styles.button,\n    onPress: function onPress() {\n      return linkTo('my-info');\n    }\n  }, \"My info\"), React.createElement(Button, {\n    icon: \"database\",\n    mode: \"outlined\",\n    compact: \"true\",\n    style: styles.button,\n    onPress: function onPress() {\n      return linkTo('my-collection');\n    }\n  }, \"My collection\"), React.createElement(Button, {\n    icon: \"glass-tulip\",\n    mode: \"outlined\",\n    compact: \"true\",\n    style: styles.button,\n    onPress: function onPress() {\n      return linkTo('my-wishList');\n    }\n  }, \"My wish List\")));\n};\n\nexport default Userpage;","map":{"version":3,"sources":["/home/hejoel/fullstack/fullstack-ht/fullstack-ht/fullstack-ht-app/src/components/Userpage.jsx"],"names":["React","useState","useEffect","Button","Avatar","Divider","useHistory","StateContext","Text","firebase","theme","styles","StyleSheet","create","topContainer","flexDirection","justifyContent","alignItems","height","width","position","zIndex","container","bottomContainer","avatar","marginBottom","borderRadius","loading","top","button","marginHorizontal","button2","marginTop","Userpage","history","img","setImg","loaded","setLoaded","userinfo","setUserinfo","firestore","collection","get","then","querySnapshot","posts","docs","map","doc","data","id","catch","error","console","log","auth","currentUser","uid","snapshot","downloadURL","linkTo","link","push","colors","primary","uri"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, View, Image, ActivityIndicator, } from 'react-native';\nimport { Button, Avatar, Divider } from 'react-native-paper';\nimport { useHistory } from 'react-router-native';\n\nimport { StateContext } from '../state';\nimport Text from './Text';\n\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nimport theme from '../theme';\n\nconst styles = StyleSheet.create({\n  topContainer: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%',\n    position: 'absolute',\n    zIndex: 1\n  },\n  container: {\n    // flexDirection: 'row',\n    alignItems: 'center',\n  }, \n  bottomContainer: {\n    \n  },\n  avatar: {\n    marginBottom: 50,\n    width: 150, \n    height: 150,\n    borderRadius: 100\n  },\n  loading: {\n    position: 'absolute',\n    top: 245,\n    zIndex: 2\n  },\n  button: {\n    marginHorizontal: 50\n  },\n  button2: {\n    marginTop: 20\n  },\n});\n\n\nconst Userpage = () => {\n\n  const history = useHistory();\n  const [img, setImg] = useState();\n  const [loaded, setLoaded] = useState(false);\n  const [userinfo, setUserinfo] = useState([]);\n\n\n  useEffect(() => {\n\n    firebase.firestore()\n      .collection('userinfo')\n      .get()\n      .then((querySnapshot) => {\n        let posts = querySnapshot.docs.map(doc => {\n          const data = doc.data();\n          const id = doc.id;\n          return { id, ...data };\n        });\n        setUserinfo(posts);\n      })\n      .catch((error) => {\n        console.log(\"Error getting documents: \", error);\n      });\n\n\n    firebase.firestore()\n    .collection(\"images\")\n    .doc(firebase.auth().currentUser.uid)\n    .collection(\"userImages\")\n    .doc(\"profilePicture\")\n    .get().then((snapshot) => {\n      setImg(snapshot.data().downloadURL);\n    });\n  \n  },[]);\n\n  const linkTo = (link) => {\n    history.push(link);\n  };\n\n\n  return (\n\n      <View style={styles.topContainer}>\n      <View style={styles.loading}>\n        <ActivityIndicator size='large' animating={!loaded} color={theme.colors.primary} />\n      </View>\n      <Image source={{ uri: img }} style={styles.avatar} onLoadEnd={() => setLoaded(true)} defaultSource={''}/>\n      <View style={styles.container}>\n        <Button icon=\"star\" mode=\"outlined\" compact=\"true\" style={styles.button} onPress={() => linkTo('my-reviews')}>\n         My reviews\n          </Button>\n\n        <Button icon=\"information\" mode=\"outlined\" compact=\"true\" style={styles.button} onPress={() => linkTo('my-info')}>\n          My info\n          </Button>\n        \n          <Button icon=\"database\" mode=\"outlined\" compact=\"true\" style={styles.button} onPress={() => linkTo('my-collection')}>\n          My collection\n          </Button>\n\n          <Button icon=\"glass-tulip\" mode=\"outlined\" compact=\"true\" style={styles.button} onPress={() => linkTo('my-wishList')}>\n          My wish List\n          </Button>\n\n      </View>\n      </View>\n\n  );\n};\n\nexport default Userpage;"]},"metadata":{},"sourceType":"module"}